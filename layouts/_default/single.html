{{ define "content" }}
<div class="max-w-2xl mx-auto py-12 px-5 flex flex-col gap-12">
    <a href="/" class="font-mono text-xs text-muted tracking-wide">Back to home</a>
    <article class="flex flex-col gap-12">
        <header>
            <h1 class="text-2xl">{{ .Title }}</h1>
            <p class="text-link text-xs">{{ .Date.Format "January 2006" }}</p>
        </header>
        <div class="flex flex-col gap-4">
            {{ .Content }}
        </div>
    </article>
    {{ partial "footer" .}}
</div>

<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: false, theme: 'neutral' });
    // Convert Hugo's ```mermaid fenced blocks into mermaid-renderable elements
    document.querySelectorAll('code.language-mermaid').forEach(el => {
        const pre = el.parentElement;
        const div = document.createElement('pre');
        div.className = 'mermaid';
        div.textContent = el.textContent;
        pre.parentElement.replaceChild(div, pre);
    });
    await mermaid.run();
</script>

{{ end }}
