<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Typescript on vtemian - blog</title><link>https://blog.vtemian.com/tags/typescript/</link><description>Recent content in Typescript on vtemian - blog</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 27 Feb 2026 10:00:00 +0200</lastBuildDate><atom:link href="https://blog.vtemian.com/tags/typescript/index.xml" rel="self" type="application/rss+xml"/><item><title>MCP Is Great for Tools. Terrible for Agents.</title><link>https://blog.vtemian.com/post/building-mcp-plugin-claudebin/</link><pubDate>Fri, 27 Feb 2026 10:00:00 +0200</pubDate><guid>https://blog.vtemian.com/post/building-mcp-plugin-claudebin/</guid><description>&lt;p>Claude Code sessions live as &lt;code>.jsonl&lt;/code> files under &lt;code>~/.claude/projects/&lt;/code>. They&amp;rsquo;re ephemeral. You debug a race condition, the agent rewrites three files, and then it&amp;rsquo;s gone. &lt;a href="https://claudebin.com">Claudebin&lt;/a> turns any session into a shareable URL. Run &lt;code>/claudebin:share&lt;/code>, get back a permanent link.&lt;/p>
&lt;p>This post is about what&amp;rsquo;s underneath. Building an MCP server, shipping it as a Claude Code plugin, and where the architecture shines vs where it falls apart.&lt;/p>
&lt;p>&lt;strong>TL;DR&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>MCP is JSON-RPC 2.0 over stdio. Your plugin is a child process that Claude Code pipes JSON to. Simple, isolated, language-agnostic.&lt;/li>
&lt;li>Claude Code&amp;rsquo;s slash commands are non-deterministic. A markdown file instructs the LLM to call your tool. The dispatch goes through model reasoning. It works. Usually.&lt;/li>
&lt;li>&lt;code>console.log&lt;/code> in an MCP server corrupts the JSON-RPC stream. You will learn this the hard way.&lt;/li>
&lt;li>Claude Code plugins can&amp;rsquo;t observe, intercept, or modify agent behavior. No lifecycle hooks. You get a pipe and a schema. That&amp;rsquo;s it.&lt;/li>
&lt;li>OpenCode plugins run in-process with 11+ hooks, shared state, and deterministic dispatch. The DX is better. The portability is worse.&lt;/li>
&lt;li>MCP is the right model for tools. OpenCode&amp;rsquo;s model is the right one for agent systems. Claude Code only offers MCP. If you need more than a simple tool, you&amp;rsquo;re fighting the architecture.&lt;/li>
&lt;li>The ideal platform would offer both. Neither does that today.&lt;/li>
&lt;/ul>
&lt;h2 id="mcp-json-rpc-20-over-stdio">MCP: JSON-RPC 2.0 Over stdio&lt;/h2>
&lt;p>The &lt;a href="https://modelcontextprotocol.io/">Model Context Protocol&lt;/a> sits on top of JSON-RPC 2.0 &lt;sup>&lt;a href="#ref-1">[1]&lt;/a>&lt;/sup>. Claude Code spawns your server as a child process, pipes stdin/stdout, and exchanges newline-delimited JSON &lt;sup>&lt;a href="#ref-2">[2]&lt;/a>&lt;/sup>. No HTTP, no WebSockets, no port allocation. One child process per MCP server, lifecycle tied to the parent &lt;sup>&lt;a href="#ref-2">[2]&lt;/a>&lt;/sup>.&lt;/p></description></item></channel></rss>