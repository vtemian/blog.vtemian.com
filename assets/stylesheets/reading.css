/* ABOUTME: Readability improvements: optimal measure, typography, spacing, and dark mode.
   ABOUTME: Applied as final override to enhance reading experience across all content. */

/* === Readability baseline (light & dark) === */
:root{
  --bg: #ffffff;
  --text: #111111;
  --muted: #5f6368;              /* metadata, captions */
  --link: #0a66c2;               /* accessible blue */
  --link-visited: #6f42c1;
  --border: #e6e6e6;
  --code-bg: #f6f8fa;

  --font-size: 18px;             /* base on desktop */
  --lh: 1.68;                    /* comfy line-height */
  --measure: 68ch;               /* ideal reading width = 60â€“75ch */
  --side-pad: max(1.2rem, env(safe-area-inset-left));
}

@media (min-width: 1280px){
  :root{ --font-size: 19px; }
}
@media (max-width: 600px){
  :root{ --font-size: 17px; --measure: 64ch; }
}

@media (prefers-color-scheme: dark){
  :root{
    --bg: #0b0b0c;
    --text: #e9e9ea;
    --muted: #9aa0a6;
    --link: #7ab7ff;
    --link-visited: #c5a3ff;
    --border: #282a2e;
    --code-bg: #111317;
  }
}

/* Layout container (targets common Hugo selectors safely) */
body{
  background: var(--bg);
  color: var(--text);
  font: 400 var(--font-size)/var(--lh) ui-sans-serif, system-ui, -apple-system, Segoe UI,
        Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

main, .content, .post, article, .single, .container{
  max-width: var(--measure);
  margin-inline: auto;
  padding-inline: var(--side-pad);
}

/* Headings: clear hierarchy + generous breathing room */
h1,h2,h3,h4{
  line-height: 1.2;
  letter-spacing: -0.01em;
  margin-block: 2.2rem 0.8rem;
}
h1{ font-size: clamp(1.9rem, 2.4vw + 1rem, 2.6rem); }
h2{ font-size: clamp(1.4rem, 1.2vw + 1rem, 1.9rem); }
h3{ font-size: clamp(1.2rem, 0.9vw + .9rem, 1.4rem); }
h4{ font-size: 1.05rem; color: var(--muted); }

/* Meta (author/date) */
.post-meta, .meta, time, .byline{
  color: var(--muted);
  font-size: 0.95rem;
}

/* Paragraph rhythm */
p{ margin-block: 1rem; hyphens: auto; }
strong{ font-weight: 650; }

/* Lists */
ul,ol{ margin-block: 1rem; padding-left: 1.25rem; }
li+li{ margin-top: .35rem; }

/* Links: readable underlines with good contrast */
a{
  color: var(--link);
  text-decoration: underline;
  text-underline-offset: 0.14em;
  text-decoration-thickness: 0.08em;
  text-decoration-skip-ink: auto;
}
a:visited{ color: var(--link-visited); }
a:hover{ text-decoration-thickness: 0.12em; }

/* Images & figures */
img{ max-width: 100%; height: auto; display: block; }
figure{ margin: 2rem 0; }
figcaption{
  color: var(--muted);
  font-size: .92rem;
  line-height: 1.45;
  margin-top: .5rem;
}

/* Horizontal rules: use real <hr>, not "***" in text */
hr{
  border: 0;
  border-top: 1px solid var(--border);
  margin: 2.5rem auto;
  max-width: calc(var(--measure) * .9);
}

/* Code */
pre, code, kbd, samp{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
}
pre{
  background: var(--code-bg);
  padding: 1rem;
  border-radius: 10px;
  overflow: auto;
  font-size: .95rem;
  line-height: 1.55;
  border: 1px solid var(--border);
  margin: 1.2rem 0;
}
code{ background: color-mix(in srgb, var(--code-bg) 70%, transparent); padding: .1em .3em; border-radius: 6px; }

/* Blockquotes */
blockquote{
  margin: 1.4rem 0;
  padding-left: 1rem;
  border-left: 4px solid var(--border);
  color: color-mix(in srgb, var(--text) 80%, transparent);
}

/* Tables */
table{ width: 100%; border-collapse: collapse; font-size: .98rem; }
th, td{ padding: .6rem .7rem; border-bottom: 1px solid var(--border); }
thead th{ text-align: left; font-weight: 600; }
.table-wrap{ overflow-x: auto; }

/* Small niceties */
::selection{ background: color-mix(in srgb, var(--link) 25%, transparent); }
img[alt^="Image:"] + figcaption::before{ content: ""; } /* hide literal "Image:" captions */
